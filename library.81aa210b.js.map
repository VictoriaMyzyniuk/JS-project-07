{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,SAEA,IAAIE,EAAgB,GAChBC,EAAc,GAElB,MAAMC,EAAcC,SAASC,cAAc,iBACrCC,EAAaF,SAASC,cAAc,0BACpCE,EAAWH,SAASC,cAAc,wBAoExC,SAASG,EAAaC,GACpBC,QAAQC,IAAIF,GACZN,EAAYS,UAAyBH,EAWlCI,KAAIC,IACH,MAAMC,YAAEA,EAAWC,MAAEA,EAAKC,GAAEA,EAAEC,OAAEA,EAAMC,aAAEA,EAAYC,aAAEA,GACpDN,EACIO,EAAOD,EAAaE,QAAQ,GAC5BC,EAAaL,EAAOL,KAAIW,GAAQA,EAAKC,OAAMC,MAAM,EAAG,GAM1D,OALAH,EAAWI,KAAK,SAKT,0CAC0BV,8BACfA,yCACPA,mFAEmCF,sBACnCC,uGAKmBA,wDACWC,qDACAA,kBAhBlBM,EAAWK,KAAK,gBACnBT,EAAaO,MAAM,EAAG,qCAiBhBL,gFAMzB,IAEFO,KAAK,IA3CR,MAAMC,EAAezB,SAAS0B,iBAAiB,mBAE/CD,EAAaE,SAAQC,GACnBA,EAAKC,oBAAoB,QAASjC,EAAAkC,kBAEpCL,EAAaE,SAAQC,GAAQA,EAAKG,iBAAiB,QAASnC,EAAAkC,iB,CA1E9D5B,EAAW6B,iBAAiB,SAgD5B,WACEhC,EAAYS,UAAY,IACxBL,EAAS6B,UAAUC,OAAO,wBAC1B/B,EAAW8B,UAAUE,IAAI,wBAEzBrC,EAAgBsC,KAAKC,MAAMC,aAAaC,QAAQ,kBAGhD,GAFoC,OAAlBzC,GAA4C,OAAlBA,EAE7B,CACb,MAAM0C,EAAe,2HAGrBxC,EAAYS,UAAY+B,C,MAExBnC,EAAaP,E,IA7DjBM,EAAS4B,iBAAiB,SA6B1B,WACEhC,EAAYS,UAAY,IACxBN,EAAW8B,UAAUC,OAAO,wBAC5B9B,EAAS6B,UAAUE,IAAI,wBAEvBpC,EAAcqC,KAAKC,MAAMC,aAAaC,QAAQ,gBAG9C,GAFgC,OAAhBxC,GAAwC,OAAhBA,EAE3B,CACX,MAAM0C,EAAa,mIAGnBzC,EAAYS,UAAYgC,C,MAExBpC,EAAaN,E,IAvCjB,WACEC,EAAYS,UAAY,IAExBX,EAAgBsC,KAAKC,MAAMC,aAAaC,QAAQ,kBAChDxC,EAAcqC,KAAKC,MAAMC,aAAaC,QAAQ,gBAC9C,MAAMG,EAA8B,OAAlB5C,EACZ6C,EAA0B,OAAhB5C,EAEhB,GAAI2C,GAAaC,EAAS,CACxB3C,EAAYiC,UAAUC,OAAO,WAC7B,MAAMU,EAAe,2GAGrB5C,EAAYS,UAAYmC,C,CAGrBD,GACHtC,EAAaN,GAGV2C,GACHrC,EAAaP,E,CAvBjB+C,G","sources":["src/library.js","src/js/btn-for-library.js"],"sourcesContent":["import { loader } from './js/loader';\nimport './js/teamModal.js';\n\nimport './js/btn-for-library';\nimport './js/btn-in-modal';\nimport { darkOn } from './js/darkOn';\n","import { onGalleryClick } from './gallery-popular-films';\n\nlet watchedMovies = [];\nlet queueMovies = [];\n\nconst libraryWrap = document.querySelector('.library-list');\nconst watchedBtn = document.querySelector('.library--btn__watched');\nconst queueBtn = document.querySelector('.library--btn__queue');\n\nwatchedBtn.addEventListener('click', onBtnWatchedClick);\nqueueBtn.addEventListener('click', onBtnQueueClick);\n\nonLibraryLinkClick();\n\nfunction onLibraryLinkClick() {\n  libraryWrap.innerHTML = ' ';\n\n  watchedMovies = JSON.parse(localStorage.getItem('watchedMovies'));\n  queueMovies = JSON.parse(localStorage.getItem('queueMovies'));\n  const noWatched = watchedMovies === null;\n  const noQueue = queueMovies === null;\n\n  if (noWatched && noQueue) {\n    libraryWrap.classList.remove('gallery');\n    const emptyLibrary = `<div class=\"empty-library\"> \n    <p class=\"empty-library__title\">YOUR LIBRARY IS EMPTY!</p>\n    </div>`;\n    libraryWrap.innerHTML = emptyLibrary;\n  }\n\n  if (!noQueue) {\n    renderMarkup(queueMovies);\n  }\n\n  if (!noWatched) {\n    renderMarkup(watchedMovies);\n  }\n}\n\nfunction onBtnQueueClick() {\n  libraryWrap.innerHTML = ' ';\n  watchedBtn.classList.remove('library--btn--active');\n  queueBtn.classList.add('library--btn--active');\n\n  queueMovies = JSON.parse(localStorage.getItem('queueMovies'));\n  const noQueue = queueMovies === null || queueMovies === '[]';\n\n  if (noQueue) {\n    const emptyQueue = `<div class=\"container empty-library\"> \n        <p class=\"empty-library__title\">NO MOVIES TO WATCH IN QUEUE!</p>\n        </div>`;\n    libraryWrap.innerHTML = emptyQueue;\n  } else {\n    renderMarkup(queueMovies);\n  }\n}\n\nfunction onBtnWatchedClick() {\n  libraryWrap.innerHTML = ' ';\n  queueBtn.classList.remove('library--btn--active');\n  watchedBtn.classList.add('library--btn--active');\n\n  watchedMovies = JSON.parse(localStorage.getItem('watchedMovies'));\n  const noWatched = watchedMovies === null || watchedMovies === '[]';\n\n  if (noWatched) {\n    const emptyWatched = `<div class=\"container empty-library\">\n        <p class=\"empty-library__title\">NO MOVIES IN WATCHED!</p>\n        </div>`;\n    libraryWrap.innerHTML = emptyWatched;\n  } else {\n    renderMarkup(watchedMovies);\n  }\n}\n\nfunction renderMarkup(savedMovies) {\n  console.log(savedMovies);\n  libraryWrap.innerHTML = createMarkup(savedMovies);\n  const galleryItems = document.querySelectorAll('.card-set__item');\n\n  galleryItems.forEach(card =>\n    card.removeEventListener('click', onGalleryClick)\n  );\n  galleryItems.forEach(card => card.addEventListener('click', onGalleryClick));\n}\n\nfunction createMarkup(movies) {\n  return movies\n    .map(movie => {\n      const { poster_path, title, id, genres, release_date, vote_average } =\n        movie;\n      const vote = vote_average.toFixed(1);\n      const genresList = genres.map(item => item.name).slice(0, 2);\n      genresList.push('Other');\n\n      const formatedGenres = genresList.join(', ');\n      const releaseYear = release_date.slice(0, 4);\n\n      return `\n      <li class=\"card-set__item\" id=\"${id}\">\n      <a href='#' id='${id}' class=\"card-link\">\n      <img id=\"${id}\"\n          loading=\"lazy\"\n          src=\"https://image.tmdb.org/t/p/original${poster_path}\"\n          alt=\"${title}\"\n          class=\"card-set__img \"\n          \n      />\n    \n      <h3 class=\"card-set__title\">${title}</h3>\n      <div class=\"card-set__description\" id=\"${id}\">\n      <span class=\"card-set__genre flex\" id=\"${id}\">\n          ${formatedGenres} &nbsp| ${releaseYear}\n          <span class=\"vote\"> ${vote}</span>\n      </span>\n      \n      </div>\n      </a>\n      </li>\n      `;\n    })\n    .join('');\n}\n"],"names":["parcelRequire","$eZevs","$bee97886d9609cae$var$watchedMovies","$bee97886d9609cae$var$queueMovies","$bee97886d9609cae$var$libraryWrap","document","querySelector","$bee97886d9609cae$var$watchedBtn","$bee97886d9609cae$var$queueBtn","$bee97886d9609cae$var$renderMarkup","savedMovies","console","log","innerHTML","map","movie","poster_path","title","id","genres","release_date","vote_average","vote","toFixed","genresList","item","name","slice","push","join","galleryItems","querySelectorAll","forEach","card","removeEventListener","onGalleryClick","addEventListener","classList","remove","add","JSON","parse","localStorage","getItem","emptyWatched","emptyQueue","noWatched","noQueue","emptyLibrary","$bee97886d9609cae$var$onLibraryLinkClick"],"version":3,"file":"library.81aa210b.js.map"}